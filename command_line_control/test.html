<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Command Selector</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 1rem;
      max-width: 480px;
      margin: auto;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-size: 1.1em;
    }
    input, select, button {
      width: 100%;
      padding: 0.75rem;
      font-size: 1em;
      margin-top: 0.5rem;
    }
    .params {
      display: none;
    }
  </style>
</head>
<body>

  <h2>üïπÔ∏è Select Command</h2>

  <label for="command">Command:</label>
  <select id="command">
    <option value="">-- Choose a Command --</option>
    <option value="drive">Drive</option>
    <option value="turn">Turn</option>
    <option value="stop">Stop</option>
    <option value="load">Load</option>
    <option value="shoot">Shoot</option>
  </select>

  <!-- Parameters for Drive -->
  <div id="params-drive" class="params">
    <label>Distance (inches): <input type="number" id="drive-distance" /></label>
    <label>Speed (%): <input type="number" id="drive-speed" /></label>
  </div>

  <!-- Parameters for Turn -->
  <div id="params-turn" class="params">
    <label>Heading (degrees): <input type="number" id="turn-heading" /></label>
  </div>

  <!-- Parameters for Load -->
  <div id="params-load" class="params">
    <label>Slot #: <input type="number" id="load-slot" /></label>
  </div>

  <!-- Parameters for Shoot -->
  <div id="params-shoot" class="params">
    <label>Power (%): <input type="number" id="shoot-power" /></label>
  </div>

  <button id="sendCommand">üöÄ Send Command</button>

  <pre id="output" style="margin-top:1rem; white-space:pre-wrap;"></pre>

  <script>
    const commandSelect = document.getElementById('command');
    const paramSections = document.querySelectorAll('.params');
    const output = document.getElementById('output');

    commandSelect.addEventListener('change', () => {
      const selected = commandSelect.value;
      paramSections.forEach(div => div.style.display = 'none');
      if (selected) {
        const paramDiv = document.getElementById(`params-${selected}`);
        if (paramDiv) paramDiv.style.display = 'block';
      }
    });

    document.getElementById('sendCommand').addEventListener('click', () => {
      const cmd = commandSelect.value;
      let payload = { command: cmd };

      switch (cmd) {
        case 'drive':
          payload.distance = document.getElementById('drive-distance').value;
          payload.speed = document.getElementById('drive-speed').value;
          break;
        case 'turn':
          payload.heading = document.getElementById('turn-heading').value;
          break;
        case 'load':
          payload.slot = document.getElementById('load-slot').value;
          break;
        case 'shoot':
          payload.power = document.getElementById('shoot-power').value;
          break;
      }

      output.textContent = `üì§ Command Sent:\n${JSON.stringify(payload, null, 2)}`;
    });
  </script>

</body>
</html>
